{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nif (location.protocol !== 'https:' && location.hostname !== 'localhost') {\n  console.warn('getUserMedia() must be run from a secure origin: https or localhost.\\nPlease change the protocol to https.');\n}\n\nif (!navigator.mediaDevices && !navigator.getUserMedia) {\n  console.warn('Your browser doesn\\'t support navigator.mediaDevices.getUserMedia and navigator.getUserMedia.');\n}\n\nnavigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia; // stop hack\n// from http://stackoverflow.com/questions/11642926/stop-close-webcam-which-is-opened-by-navigator-getusermedia\n\nvar MediaStream = window.MediaStream || window.webkitMediaStream;\n\nif (typeof MediaStream !== 'undefined' && !('stop' in MediaStream.prototype)) {\n  MediaStream.prototype.stop = function () {\n    this.getAudioTracks().forEach(function (track) {\n      track.stop();\n    });\n    this.getVideoTracks().forEach(function (track) {\n      track.stop();\n    });\n  };\n}\n\nvar ReactMediaRecorder = function (_Component) {\n  _inherits(ReactMediaRecorder, _Component);\n\n  function ReactMediaRecorder(props) {\n    _classCallCheck(this, ReactMediaRecorder);\n\n    var _this = _possibleConstructorReturn(this, (ReactMediaRecorder.__proto__ || Object.getPrototypeOf(ReactMediaRecorder)).call(this, props));\n\n    _this.state = {\n      asked: false,\n      permission: false,\n      available: false,\n      recording: false,\n      paused: false\n    };\n    _this.stream = null;\n    _this.mediaRecorder = null;\n    _this.mediaChunk = [];\n    _this.start = _this.start.bind(_this);\n    _this.stop = _this.stop.bind(_this);\n    _this.pause = _this.pause.bind(_this);\n    _this.resume = _this.resume.bind(_this);\n    _this.initMediaRecorder = _this.initMediaRecorder.bind(_this);\n    _this.requestPermission = _this.requestPermission.bind(_this);\n    _this.getStream = _this.getStream.bind(_this);\n    _this.stopStream = _this.stopStream.bind(_this);\n    return _this;\n  }\n\n  _createClass(ReactMediaRecorder, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.getStream();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      var prevConstraints = prevProps.constraints;\n      var constraints = this.props.constraints;\n\n      if (JSON.stringify(constraints) !== JSON.stringify(prevConstraints)) {\n        this.getStream();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.mediaRecorder = null;\n      this.mediaChunk = [];\n\n      if (this.stream) {\n        this.stopStream();\n      }\n    }\n  }, {\n    key: 'getStream',\n    value: function getStream() {\n      var _this2 = this;\n\n      var width = this.props.width;\n      var height = this.props.height;\n      var constraints = this.props.constraints;\n\n      var handleSuccess = function handleSuccess(stream) {\n        _this2.stream = stream;\n        _this2.mediaChunk = [];\n\n        _this2.setState({\n          permission: true,\n          asked: true,\n          recording: false\n        });\n\n        _this2.props.onGranted(_this2.stream);\n\n        _this2.initMediaRecorder();\n      };\n\n      var handleFailed = function handleFailed(err) {\n        _this2.setState({\n          asked: false\n        });\n\n        _this2.props.onDenied(err);\n      };\n\n      if (navigator.mediaDevices) {\n        navigator.mediaDevices.getUserMedia(constraints).then(handleSuccess).catch(handleFailed);\n      } else if (navigator.getUserMedia) {\n        navigator.getUserMedia(constraints, handleSuccess, handleFailed);\n      } else {\n        var errMessage = 'Your Browser doesn\\'t support UserMedia API. Please try with another browser.';\n        console.warn(errMessage);\n        this.props.onError(new Error(errMessage));\n      }\n    }\n  }, {\n    key: 'stopStream',\n    value: function stopStream() {\n      this.stream.stop();\n      this.stream.getTracks().forEach(function (track) {\n        return track.stop();\n      });\n      this.stream = null;\n      this.props.onStreamClosed();\n      this.setState({\n        permission: false\n      });\n    }\n  }, {\n    key: 'initMediaRecorder',\n    value: function initMediaRecorder() {\n      var _this3 = this;\n\n      try {\n        var options = {};\n        var types = ['video/webm;codecs=vp8', 'video/webm', ''];\n        if (this.props.mimeType) types.unshift(this.props.mimeType);\n\n        for (var i = 0; i < types.length; i++) {\n          var type = types[i];\n\n          if (MediaRecorder.isTypeSupported(type)) {\n            options.mimeType = type;\n            break;\n          }\n\n          console.warn(type + ' is not supported on your browser.');\n        }\n\n        var mediaRecorder = new MediaRecorder(this.stream, options);\n\n        mediaRecorder.ondataavailable = function (ev) {\n          if (ev.data && ev.data.size > 0) {\n            _this3.mediaChunk.push(ev.data);\n          }\n        };\n\n        this.mediaRecorder = mediaRecorder;\n        this.setState({\n          available: true\n        });\n      } catch (err) {\n        console.log(err);\n        console.error('Failed to initialize MediaRecorder.', err);\n        this.setState({\n          available: false\n        });\n      }\n    }\n  }, {\n    key: 'requestPermission',\n    value: function requestPermission() {\n      this.props.onRequestPermission();\n      this.getStream();\n    }\n  }, {\n    key: 'start',\n    value: function start() {\n      if (!this.state.available) return;\n\n      if (!this.state.permission) {\n        var error = new Error('You have to get permission to start recording.');\n        return this.props.onError(error);\n      }\n\n      if (this.state.recording) {\n        var _error = new Error('MediaRecorder currently on active.');\n\n        return this.props.onError(_error);\n      }\n\n      this.mediaChunk = [];\n      this.mediaRecorder.start(this.props.timeSlice);\n      this.setState({\n        recording: true\n      });\n      this.props.onStart(this.stream);\n    }\n  }, {\n    key: 'pause',\n    value: function pause() {\n      if (!this.state.recording) return;\n\n      if (!this.state.permission) {\n        var error = new Error('You have to get permission to start recording.');\n        return this.props.onError(error);\n      }\n\n      this.mediaRecorder.stop();\n      this.setState({\n        paused: true\n      });\n      this.props.onPause();\n    }\n  }, {\n    key: 'resume',\n    value: function resume() {\n      if (!this.state.recording) return;\n\n      if (!this.state.permission) {\n        var error = new Error('You have to get permission to start recording.');\n        return this.props.onError(error);\n      }\n\n      this.initMediaRecorder();\n      this.mediaRecorder.start(this.props.timeSlice);\n      this.setState({\n        paused: false\n      });\n      this.props.onResume(this.stream);\n    }\n  }, {\n    key: 'stop',\n    value: function stop(stopStream) {\n      if (!this.state.available) return;\n\n      if (!this.state.permission) {\n        var permissionError = new Error('You already stopped recording.');\n        return this.props.onError(permissionError);\n      }\n\n      this.mediaRecorder.stop();\n      this.setState({\n        recording: false\n      });\n      var blob = new Blob(this.mediaChunk, {\n        type: 'video/webm'\n      });\n      this.props.onStop(blob);\n\n      if (stopStream) {\n        this.stopStream();\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var asked = this.state.asked;\n      var permission = this.state.permission;\n      var recording = this.state.recording;\n      var available = this.state.available;\n      return _react2.default.createElement('div', {\n        className: this.props.className\n      }, this.props.render({\n        request: this.requestPermission,\n        start: this.start,\n        stop: this.stop,\n        pause: this.pause,\n        resume: this.resume\n      }));\n    }\n  }]);\n\n  return ReactMediaRecorder;\n}(_react.Component);\n\nReactMediaRecorder.propTypes = {\n  constraints: _propTypes2.default.object,\n  className: _propTypes2.default.string,\n  timeSlice: _propTypes2.default.number,\n  mimeType: _propTypes2.default.string,\n  render: _propTypes2.default.func,\n  onRequestPermission: _propTypes2.default.func,\n  onGranted: _propTypes2.default.func,\n  onDenied: _propTypes2.default.func,\n  onStart: _propTypes2.default.func,\n  onStop: _propTypes2.default.func,\n  onPause: _propTypes2.default.func,\n  onResume: _propTypes2.default.func,\n  onError: _propTypes2.default.func,\n  onStreamClosed: _propTypes2.default.func\n};\nReactMediaRecorder.defaultProps = {\n  constraints: {\n    audio: true,\n    video: true\n  },\n  className: '',\n  timeSlice: 0,\n  mimeType: '',\n  render: function render() {},\n  onRequestPermission: function onRequestPermission() {},\n  onGranted: function onGranted() {},\n  onDenied: function onDenied() {},\n  onStart: function onStart() {},\n  onStop: function onStop() {},\n  onPause: function onPause() {},\n  onResume: function onResume() {},\n  onError: function onError() {},\n  onStreamClosed: function onStreamClosed() {}\n};\nexports.default = ReactMediaRecorder;","map":{"version":3,"sources":["/home/kriti/Online-Examination-AI-ML/node_modules/react-multimedia-capture/dist/index.js"],"names":["Object","defineProperty","exports","value","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_react","require","_react2","_interopRequireDefault","_propTypes","_propTypes2","obj","__esModule","default","_classCallCheck","instance","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","location","protocol","hostname","console","warn","navigator","mediaDevices","getUserMedia","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","MediaStream","window","webkitMediaStream","stop","getAudioTracks","forEach","track","getVideoTracks","ReactMediaRecorder","_Component","_this","getPrototypeOf","state","asked","permission","available","recording","paused","stream","mediaRecorder","mediaChunk","start","bind","pause","resume","initMediaRecorder","requestPermission","getStream","stopStream","componentDidMount","componentDidUpdate","prevProps","prevConstraints","constraints","JSON","stringify","componentWillUnmount","_this2","width","height","handleSuccess","setState","onGranted","handleFailed","err","onDenied","then","catch","errMessage","onError","Error","getTracks","onStreamClosed","_this3","options","types","mimeType","unshift","type","MediaRecorder","isTypeSupported","ondataavailable","ev","data","size","push","log","error","onRequestPermission","_error","timeSlice","onStart","onPause","onResume","permissionError","blob","Blob","onStop","render","createElement","className","request","Component","propTypes","object","string","number","func","defaultProps","audio","video"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nif (location.protocol !== 'https:' && location.hostname !== 'localhost') {\n\tconsole.warn('getUserMedia() must be run from a secure origin: https or localhost.\\nPlease change the protocol to https.');\n}\nif (!navigator.mediaDevices && !navigator.getUserMedia) {\n\tconsole.warn('Your browser doesn\\'t support navigator.mediaDevices.getUserMedia and navigator.getUserMedia.');\n}\n\nnavigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia || navigator.msGetUserMedia;\n\n// stop hack\n// from http://stackoverflow.com/questions/11642926/stop-close-webcam-which-is-opened-by-navigator-getusermedia\nvar MediaStream = window.MediaStream || window.webkitMediaStream;\n\nif (typeof MediaStream !== 'undefined' && !('stop' in MediaStream.prototype)) {\n\tMediaStream.prototype.stop = function () {\n\t\tthis.getAudioTracks().forEach(function (track) {\n\t\t\ttrack.stop();\n\t\t});\n\n\t\tthis.getVideoTracks().forEach(function (track) {\n\t\t\ttrack.stop();\n\t\t});\n\t};\n}\n\nvar ReactMediaRecorder = function (_Component) {\n\t_inherits(ReactMediaRecorder, _Component);\n\n\tfunction ReactMediaRecorder(props) {\n\t\t_classCallCheck(this, ReactMediaRecorder);\n\n\t\tvar _this = _possibleConstructorReturn(this, (ReactMediaRecorder.__proto__ || Object.getPrototypeOf(ReactMediaRecorder)).call(this, props));\n\n\t\t_this.state = {\n\t\t\tasked: false,\n\t\t\tpermission: false,\n\t\t\tavailable: false,\n\t\t\trecording: false,\n\t\t\tpaused: false\n\t\t};\n\n\t\t_this.stream = null;\n\t\t_this.mediaRecorder = null;\n\t\t_this.mediaChunk = [];\n\n\t\t_this.start = _this.start.bind(_this);\n\t\t_this.stop = _this.stop.bind(_this);\n\t\t_this.pause = _this.pause.bind(_this);\n\t\t_this.resume = _this.resume.bind(_this);\n\t\t_this.initMediaRecorder = _this.initMediaRecorder.bind(_this);\n\t\t_this.requestPermission = _this.requestPermission.bind(_this);\n\t\t_this.getStream = _this.getStream.bind(_this);\n\t\t_this.stopStream = _this.stopStream.bind(_this);\n\t\treturn _this;\n\t}\n\n\t_createClass(ReactMediaRecorder, [{\n\t\tkey: 'componentDidMount',\n\t\tvalue: function componentDidMount() {\n\t\t\tthis.getStream();\n\t\t}\n\t}, {\n\t\tkey: 'componentDidUpdate',\n\t\tvalue: function componentDidUpdate(prevProps) {\n\t\t\tvar prevConstraints = prevProps.constraints;\n\t\t\tvar constraints = this.props.constraints;\n\n\t\t\tif (JSON.stringify(constraints) !== JSON.stringify(prevConstraints)) {\n\t\t\t\tthis.getStream();\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'componentWillUnmount',\n\t\tvalue: function componentWillUnmount() {\n\t\t\tthis.mediaRecorder = null;\n\t\t\tthis.mediaChunk = [];\n\n\t\t\tif (this.stream) {\n\t\t\t\tthis.stopStream();\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'getStream',\n\t\tvalue: function getStream() {\n\t\t\tvar _this2 = this;\n\n\t\t\tvar width = this.props.width;\n\t\t\tvar height = this.props.height;\n\t\t\tvar constraints = this.props.constraints;\n\n\t\t\tvar handleSuccess = function handleSuccess(stream) {\n\t\t\t\t_this2.stream = stream;\n\t\t\t\t_this2.mediaChunk = [];\n\n\t\t\t\t_this2.setState({\n\t\t\t\t\tpermission: true,\n\t\t\t\t\tasked: true,\n\t\t\t\t\trecording: false\n\t\t\t\t});\n\t\t\t\t_this2.props.onGranted(_this2.stream);\n\n\t\t\t\t_this2.initMediaRecorder();\n\t\t\t};\n\t\t\tvar handleFailed = function handleFailed(err) {\n\t\t\t\t_this2.setState({ asked: false });\n\t\t\t\t_this2.props.onDenied(err);\n\t\t\t};\n\n\t\t\tif (navigator.mediaDevices) {\n\t\t\t\tnavigator.mediaDevices.getUserMedia(constraints).then(handleSuccess).catch(handleFailed);\n\t\t\t} else if (navigator.getUserMedia) {\n\t\t\t\tnavigator.getUserMedia(constraints, handleSuccess, handleFailed);\n\t\t\t} else {\n\t\t\t\tvar errMessage = 'Your Browser doesn\\'t support UserMedia API. Please try with another browser.';\n\t\t\t\tconsole.warn(errMessage);\n\n\t\t\t\tthis.props.onError(new Error(errMessage));\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'stopStream',\n\t\tvalue: function stopStream() {\n\t\t\tthis.stream.stop();\n\t\t\tthis.stream.getTracks().forEach(function (track) {\n\t\t\t\treturn track.stop();\n\t\t\t});\n\t\t\tthis.stream = null;\n\n\t\t\tthis.props.onStreamClosed();\n\n\t\t\tthis.setState({\n\t\t\t\tpermission: false\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'initMediaRecorder',\n\t\tvalue: function initMediaRecorder() {\n\t\t\tvar _this3 = this;\n\n\t\t\ttry {\n\t\t\t\tvar options = {};\n\t\t\t\tvar types = ['video/webm;codecs=vp8', 'video/webm', ''];\n\n\t\t\t\tif (this.props.mimeType) types.unshift(this.props.mimeType);\n\n\t\t\t\tfor (var i = 0; i < types.length; i++) {\n\t\t\t\t\tvar type = types[i];\n\n\t\t\t\t\tif (MediaRecorder.isTypeSupported(type)) {\n\t\t\t\t\t\toptions.mimeType = type;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tconsole.warn(type + ' is not supported on your browser.');\n\t\t\t\t}\n\n\t\t\t\tvar mediaRecorder = new MediaRecorder(this.stream, options);\n\n\t\t\t\tmediaRecorder.ondataavailable = function (ev) {\n\t\t\t\t\tif (ev.data && ev.data.size > 0) {\n\t\t\t\t\t\t_this3.mediaChunk.push(ev.data);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.mediaRecorder = mediaRecorder;\n\n\t\t\t\tthis.setState({\n\t\t\t\t\tavailable: true\n\t\t\t\t});\n\t\t\t} catch (err) {\n\t\t\t\tconsole.log(err);\n\t\t\t\tconsole.error('Failed to initialize MediaRecorder.', err);\n\n\t\t\t\tthis.setState({\n\t\t\t\t\tavailable: false\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'requestPermission',\n\t\tvalue: function requestPermission() {\n\t\t\tthis.props.onRequestPermission();\n\t\t\tthis.getStream();\n\t\t}\n\t}, {\n\t\tkey: 'start',\n\t\tvalue: function start() {\n\t\t\tif (!this.state.available) return;\n\t\t\tif (!this.state.permission) {\n\t\t\t\tvar error = new Error('You have to get permission to start recording.');\n\t\t\t\treturn this.props.onError(error);\n\t\t\t}\n\t\t\tif (this.state.recording) {\n\t\t\t\tvar _error = new Error('MediaRecorder currently on active.');\n\t\t\t\treturn this.props.onError(_error);\n\t\t\t}\n\n\t\t\tthis.mediaChunk = [];\n\t\t\tthis.mediaRecorder.start(this.props.timeSlice);\n\n\t\t\tthis.setState({\n\t\t\t\trecording: true\n\t\t\t});\n\n\t\t\tthis.props.onStart(this.stream);\n\t\t}\n\t}, {\n\t\tkey: 'pause',\n\t\tvalue: function pause() {\n\t\t\tif (!this.state.recording) return;\n\t\t\tif (!this.state.permission) {\n\t\t\t\tvar error = new Error('You have to get permission to start recording.');\n\t\t\t\treturn this.props.onError(error);\n\t\t\t}\n\n\t\t\tthis.mediaRecorder.stop();\n\n\t\t\tthis.setState({ paused: true });\n\n\t\t\tthis.props.onPause();\n\t\t}\n\t}, {\n\t\tkey: 'resume',\n\t\tvalue: function resume() {\n\t\t\tif (!this.state.recording) return;\n\t\t\tif (!this.state.permission) {\n\t\t\t\tvar error = new Error('You have to get permission to start recording.');\n\t\t\t\treturn this.props.onError(error);\n\t\t\t}\n\n\t\t\tthis.initMediaRecorder();\n\t\t\tthis.mediaRecorder.start(this.props.timeSlice);\n\n\t\t\tthis.setState({ paused: false });\n\n\t\t\tthis.props.onResume(this.stream);\n\t\t}\n\t}, {\n\t\tkey: 'stop',\n\t\tvalue: function stop(stopStream) {\n\t\t\tif (!this.state.available) return;\n\t\t\tif (!this.state.permission) {\n\t\t\t\tvar permissionError = new Error('You already stopped recording.');\n\t\t\t\treturn this.props.onError(permissionError);\n\t\t\t}\n\n\t\t\tthis.mediaRecorder.stop();\n\n\t\t\tthis.setState({\n\t\t\t\trecording: false\n\t\t\t});\n\n\t\t\tvar blob = new Blob(this.mediaChunk, { type: 'video/webm' });\n\t\t\tthis.props.onStop(blob);\n\n\t\t\tif (stopStream) {\n\t\t\t\tthis.stopStream();\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'render',\n\t\tvalue: function render() {\n\t\t\tvar asked = this.state.asked;\n\t\t\tvar permission = this.state.permission;\n\t\t\tvar recording = this.state.recording;\n\t\t\tvar available = this.state.available;\n\n\t\t\treturn _react2.default.createElement(\n\t\t\t\t'div',\n\t\t\t\t{ className: this.props.className },\n\t\t\t\tthis.props.render({\n\t\t\t\t\trequest: this.requestPermission,\n\t\t\t\t\tstart: this.start,\n\t\t\t\t\tstop: this.stop,\n\t\t\t\t\tpause: this.pause,\n\t\t\t\t\tresume: this.resume\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\t}]);\n\n\treturn ReactMediaRecorder;\n}(_react.Component);\n\nReactMediaRecorder.propTypes = {\n\tconstraints: _propTypes2.default.object,\n\tclassName: _propTypes2.default.string,\n\ttimeSlice: _propTypes2.default.number,\n\tmimeType: _propTypes2.default.string,\n\trender: _propTypes2.default.func,\n\tonRequestPermission: _propTypes2.default.func,\n\tonGranted: _propTypes2.default.func,\n\tonDenied: _propTypes2.default.func,\n\tonStart: _propTypes2.default.func,\n\tonStop: _propTypes2.default.func,\n\tonPause: _propTypes2.default.func,\n\tonResume: _propTypes2.default.func,\n\tonError: _propTypes2.default.func,\n\tonStreamClosed: _propTypes2.default.func\n};\nReactMediaRecorder.defaultProps = {\n\tconstraints: {\n\t\taudio: true,\n\t\tvideo: true\n\t},\n\tclassName: '',\n\ttimeSlice: 0,\n\tmimeType: '',\n\trender: function render() {},\n\tonRequestPermission: function onRequestPermission() {},\n\tonGranted: function onGranted() {},\n\tonDenied: function onDenied() {},\n\tonStart: function onStart() {},\n\tonStop: function onStop() {},\n\tonPause: function onPause() {},\n\tonResume: function onResume() {},\n\tonError: function onError() {},\n\tonStreamClosed: function onStreamClosed() {}\n};\n\nexports.default = ReactMediaRecorder;"]},"metadata":{},"sourceType":"script"}